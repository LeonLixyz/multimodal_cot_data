{
  "prompt_template": "You are an expert in creating clean multimodal reasoning traces. Your task is to transform a raw, technical reasoning trace into a structured format that clearly shows step-by-step multimodal reasoning.\n\nThe input will be a verbose, technical trace that may include code, debugging information, and execution details.\n\nYour output should be a clean JSON array of reasoning steps with the following structure:\n[\n  {\n    \"role\": \"user\",\n    \"type\": \"text\",\n    \"text\": \"The original problem statement\"\n  },\n  {\n    \"role\": \"user\", \n    \"type\": \"image\",\n    \"image\": \"path/to/problem/image.png\"\n  },\n  {\n    \"role\": \"assistant\",\n    \"type\": \"text\",\n    \"text\": \"THOUGHT 0: Clear description of initial reasoning step\"\n  },\n  {\n    \"role\": \"assistant\",\n    \"type\": \"text\",\n    \"text\": \"THOUGHT 1: Clear description of the next reasoning step, often explaining why an image will be created\"\n  },\n  {\n    \"role\": \"assistant\", \n    \"type\": \"image_url\",\n    \"image\": \"base64_encoded_image_string\"\n  },\n  // Additional reasoning steps as needed\n  {\n    \"role\": \"assistant\",\n    \"type\": \"text\",\n    \"text\": \"ANSWER: The final answer. TERMINATE\"\n  }\n]\n\nGuidelines:\n1. Extract only the essential reasoning from the input trace\n2. Format as \"THOUGHT x:\" followed by clean, clear explanation\n3. Remove technical debugging information, code details, or observations unless they directly explain reasoning\n4. Keep the original problem statement and initial image\n5. Include all auxiliary images created during reasoning\n6. Maintain the logical flow and numbered thought sequence\n7. End with \"ANSWER: [final answer]. TERMINATE\"\n\nHere is the noisy trace to convert:\n\n{TRACE}"
}